
<div  class="fondo-modal" *ngIf="modalService.modal">
    <div class="modal" tabindex="-1" role="dialog"  style="display:block;">
      <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
        <!-- modal-dialog-centered  -->
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">{{ item.titulo }}</h5>
            <button (click)="cerrarModal()" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
  
            <div class="container"> 

                <div class="row">
        
                  <div class="col-md-6">
        
                    <ul class="list-group text-dark mb-3">
                      
                        <li class="list-group-item active"><p class="m-0"><strong>{{ item.codigo }}</strong></p></li>
                
                        <li class="list-group-item">
                          <div class="row">
                            <div class="col-md-6 text-bold">
                            <strong>Fecha inicial:</strong>
                            </div>
                            <div class="col-md-6 mt-md-0 mt-1">
                              <p class="m-0">{{ item.fecha_inicial | date }}</p>
                            </div>
                          </div>
                        </li>

                        <li class="list-group-item">
                            <div class="row">
                              <div class="col-md-6 text-bold">
                              <strong>Fecha máxima entrega:</strong>
                              </div>
                              <div class="col-md-6 mt-md-0 mt-1">
                                <p class="m-0">{{ item.fecha_limite | date }}</p>
                              </div>
                            </div>
                        </li>

                        <li class="list-group-item">
                            <div class="row">
                              <div class="col-md-6 text-bold">
                              <strong>Fecha de entrega:</strong>
                              </div>
                              <div class="col-md-6 mt-md-0 mt-1">
                                <p class="m-0" *ngIf="item.fecha_entrega">{{ item.fecha_entrega | date }}</p>
                                <span *ngIf="!item.fecha_entrega" class="badge badge-pill badge-secondary p-1">Sin entregar</span>
                              </div>
                            </div>
                        </li>



                        <li class="list-group-item">
                            <div class="row">
                              <div class="col-md-6 text-bold">
                              <strong>Fecha de validación:</strong>
                              </div>
                              <div class="col-md-6 mt-md-0 mt-1">
                                <p class="m-0" *ngIf="item.fecha_validacion">{{ item.fecha_validacion | date }}</p>
                                <span *ngIf="!item.fecha_validacion" class="badge badge-pill badge-secondary p-1">Sin validar</span>
                              </div>
                            </div>
                        </li>

                    </ul>

                  </div>

                  <div class="col-md-6 mt-1 mt-md-0">
        
                    <form [formGroup]="fechasForm"
                            (submit)="guardar()"
                            autocomplete="off">

                        <div class="form-group">
                            <label>Fecha inicial</label>
                            <input type="date"
                                class="form-control"
                                [ngClass]="{'is-invalid': campoNoValido('fecha_inicial') }"
                                formControlName="fecha_inicial">
                              <div *ngIf="campoNoValido('fecha_inicial')" class="invalid-feedback">
                                  {{ mensajesError('fecha_inicial') }}
                              </div>  
                        </div>
                        
                        <div class="form-group">
                          <label>Fecha máxima entrega</label>
                          <input type="date"
                              class="form-control"
                              [ngClass]="{'is-invalid': campoNoValido('fecha_limite') }"
                              formControlName="fecha_limite">
                            <div *ngIf="campoNoValido('fecha_limite')" class="invalid-feedback">
                                {{ mensajesError('fecha_limite') }}
                            </div>  
                      </div>


                        <hr>

                        <button class="btn btn-primary btn-block"
                                type="submit">
                        <i class="fas fa-save mr-2"></i>Guardar    
                        </button>

                    </form>

                  </div>


                </div>
            </div>
  
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" (click)="cerrarModal()" data-dismiss="modal">Cerrar</button>
          </div>
        </div>
      </div>
    </div>
  </div>