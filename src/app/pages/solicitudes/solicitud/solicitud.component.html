<h5>Solicitud de Servicio Social de <small>{{alumno?.nombre}}</small>
  <small>
          <span *ngIf="solicitud?.pendiente" class="badge badge-pill badge-warning text-white text-capitalize p-1 ml-1">Pendiente</span>
          <span *ngIf="solicitud?.rechazado" class="badge badge-pill badge-danger text-white text-capitalize p-1 ml-1">Rechazado</span>
          <span *ngIf="solicitud?.aceptado" class="badge badge-pill badge-success text-white text-capitalize p-1 ml-1">Aceptado</span>
  </small>
</h5> 

<hr>


<!-- =====================
== BOTÓN REGRESAR
======================= -->
<div class="row text-right">
  <div class="col">
      <button class="btn btn-danger"
          routerLink="/dashboard/solicitudes">
          <i class="fas fa-arrow-left mr-2"></i>Regresar
      </button>
  </div>
</div>
<!-- =====================
== FIN BOTÓN REGRESAR
======================= -->   


<!-- =====================
== INFO VALIDACIÓN
======================= --> 
<div class="row animated fadeIn m-3 text-right" *ngIf="solicitud && !solicitud?.pendiente">
  <div class="col">
    <p class="mb-0"><strong>Usuario que valido:</strong> {{solicitud?.usuario_valido.nombre}}.</p>
    <p class="mb-0"><strong>Fecha de validación:</strong> {{solicitud?.fecha_validacion | date}}.</p>
  </div>
</div>
<!-- =====================
== FIN INFO VALIDACIÓN
======================= --> 




<div class="row animated fadeIn fast m-3" *ngIf="solicitud">


    <div class="col-12">
        <div class="row">
          <div class="col-md-4">
            <h6>Fotografía</h6>
                
            <div class="d-flex justify-content-center">
                <img  [src]="alumno.foto | imagen:'alumnos'" [alt]="alumno.nombre" style="width: 200px; height: 200px;" >
            </div>
          </div>

          <div class="col-md-8 mt-md-0 mt-3">

                <ul class="list-group text-dark mb-3">
                  
                  <li class="list-group-item active"
                    [class.aceptado]="solicitud?.aceptado"
                    [class.pendiente]="solicitud?.pendiente"
                    [class.rechazado]="solicitud?.rechazado"><p class="m-0"><strong>Datos del Alumno</strong></p></li>
                  
                  <li class="list-group-item">
                    <div class="row">
                      <div class="col-md-5 text-bold">
                          <strong>No. de Control:</strong>
                      </div>
                      <div class="col-md-7 mt-md-0 mt-1">
                        <p class="m-0">{{ alumno.numero_control }}</p>
                      </div>
                    </div>
                  </li>
          
                  <li class="list-group-item">
                      <div class="row">
                        <div class="col-md-5 text-bold">
                            <strong>Nombre:</strong>
                        </div>
                        <div class="col-md-7 mt-md-0 mt-1">
                          <p class="m-0">{{ alumno.nombre }}</p>
                        </div>
                      </div>
                    </li>
          
          
                    <li class="list-group-item">
                      <div class="row">
                        <div class="col-md-5 text-bold">
                            <strong>Apellidos:</strong>
                        </div>
                        <div class="col-md-7 mt-md-0 mt-1">
                          <p class="m-0">{{ alumno.apellido_paterno }} {{ alumno.apellido_materno }}</p>
                        </div>
                      </div>
                    </li> 
          
                    <li class="list-group-item">
                      <div class="row">
                        <div class="col-md-5 text-bold">
                            <strong>Carrera:</strong>
                        </div>
                        <div class="col-md-7 mt-md-0 mt-1">
                          <p class="m-0">{{ alumno.carrera.nombre }}</p>
                        </div>
                      </div>
                    </li>
          
                </ul>
          
          </div>  
        </div>
    </div>
    
    

    <div class="col-12">
        <div class="row">
            <div class="col-md-12">

                <ul class="list-group text-dark mb-3">
                  
                  <li class="list-group-item active"
                    [class.aceptado]="solicitud?.aceptado"
                    [class.pendiente]="solicitud?.pendiente"
                    [class.rechazado]="solicitud?.rechazado"><p class="m-0"><strong>Datos del Proyecto</strong></p></li>
                  
                  <li class="list-group-item">
                    <div class="row">
                      <div class="col-md-4 text-bold">
                          <strong>Nombre:</strong>
                      </div>
                      <div class="col-md-8 mt-md-0 mt-1">
                        <p class="m-0">{{ solicitud.proyecto.nombre }}</p>
                      </div>
                    </div>
                  </li>
          
                  <li class="list-group-item">
                      <div class="row">
                        <div class="col-md-4 text-bold">
                            <strong>Dependencia:</strong>
                        </div>
                        <div class="col-md-8 mt-md-0 mt-1">
                          <p class="m-0">{{ solicitud.proyecto.dependencia.nombre }}</p>
                        </div>
                      </div>
                    </li>
          
          
                    <li class="list-group-item">
                      <div class="row">
                        <div class="col-md-4 text-bold">
                            <strong>Responsable:</strong>
                        </div>
                        <div class="col-md-8 mt-md-0 mt-1">
                          <p class="m-0">{{ solicitud.proyecto.responsable }}</p>
                        </div>
                      </div>
                    </li>
          
                    <li class="list-group-item">
                      <div class="row">
                        <div class="col-md-4 text-bold">
                            <strong>Puesto del responsable:</strong>
                        </div>
                        <div class="col-md-8 mt-md-0 mt-1">
                          <p class="m-0">{{ solicitud.proyecto.puesto_responsable }}</p>
                        </div>
                      </div>
                    </li>

                    <li class="list-group-item">
                        <div class="row">
                          <div class="col-md-4 text-bold">
                              <strong>Objetivo:</strong>
                          </div>
                          <div class="col-md-8 mt-md-0 mt-1">
                            <p class="m-0">{{ solicitud.proyecto.objetivo }}</p>
                          </div>
                        </div>
                      </li>

                    <li class="list-group-item">
                      <div class="row">
                        <div class="col-md-4 text-bold">
                            <strong>Actividades:</strong>
                        </div>
                        <div class="col-md-8 mt-md-0 mt-1">
                          <p class="m-0">{{ solicitud.proyecto.actividades }}</p>
                        </div>
                      </div>
                    </li>


                    <li class="list-group-item">
                        <div class="row">
                          <div class="col-md-4 text-bold">
                              <strong>Periodo:</strong>
                          </div>
                          <div class="col-md-8 mt-md-0 mt-1">
                            <p class="m-0">{{ solicitud.proyecto.periodo.nombre }}</p>
                          </div>
                        </div>
                    </li>

                    <li class="list-group-item">
                      <div class="row">
                        <div class="col-md-4 text-bold">
                            <strong>Lugar de desempeño:</strong>
                        </div>
                        <div class="col-md-8 mt-md-0 mt-1">
                          <p class="m-0">{{ solicitud.proyecto.lugar_desempeno }}</p>
                        </div>
                      </div>
                    </li>

                    <li class="list-group-item">
                      <div class="row">
                        <div class="col-md-4 text-bold">
                            <strong>Modalidad:</strong>
                        </div>
                        <div class="col-md-8 mt-md-0 mt-1">
                          <p class="m-0">{{ solicitud.proyecto.modalidad }}</p>
                        </div>
                      </div>
                    </li>


                    <li class="list-group-item">
                        <div class="row">
                          <div class="col-md-4 text-bold">
                              <strong>Tipo:</strong>
                          </div>
                          <div class="col-md-8 mt-md-0 mt-1">
                            <p class="m-0">{{ solicitud.proyecto.tipo }}</p>
                          </div>
                        </div>
                    </li>

                    <li class="list-group-item">
                      <div class="row">
                        <div class="col-md-4 text-bold">
                            <strong>Horario:</strong>
                        </div>
                        <div class="col-md-8 mt-md-0 mt-1">
                          <p class="m-0">{{ solicitud.proyecto.horario }}</p>
                        </div>
                      </div>
                    </li>


                    <li class="list-group-item">
                        <div class="row">
                          <div class="col-md-4 text-bold">
                              <strong>Apoyo Económico:</strong>
                          </div>
                          <div class="col-md-8 mt-md-0 mt-1">
                            <p class="m-0" *ngIf="solicitud.proyecto.apoyo_economico">SI</p>
                            <p class="m-0" *ngIf="!solicitud.proyecto.apoyo_economico">NO</p>
                          </div>
                        </div>
                      </li>
          
                </ul>
          
              </div>
        </div>
    </div>

</div>







<div class="row animated fadeIn fast m-3">

    <div class="col-md-6">

        <form [formGroup]="solicitudForm"
              (submit)="guardar()"
              autocomplete="off">

            <h6>Fecha Servicio Social</h6>

            <div class="form-row">
              <div class="col-md-6">
                <label>Fecha Inicial</label>
                <input type="date" #fecha
                      class="form-control"
                      formControlName="inicio_servicio"
                      [ngClass]="{'is-invalid': campoNoValido('inicio_servicio') }"
                      (ngModelChange)="cambiarFecha( fecha.value )">
                <div *ngIf="campoNoValido('inicio_servicio')" class="invalid-feedback">
                    {{ mensajesError('inicio_servicio') }}
                </div>
              </div>
              <div class="col-md-6">
                <label>Fecha Termino</label>
                <input type="date" 
                       class="form-control"
                       formControlName="termino_servicio">
              </div>
            </div> 

            <br>

            <div class="form-group">
                <label for="exampleFormControlSelect1">Estado</label>
                <select class="form-control" 
                        id="exampleFormControlSelect1" 
                        formControlName="status"
                         (ngModelChange)="cambioValue( $event )">
                  <option [ngValue]="true">Aceptado</option>
                  <option [ngValue]="false">Rechazado</option>
                </select>
            </div>

            <div class="form-group" *ngIf="!isAceptado">
                <label for="motivoInput">Motivo</label>
                <input formControlName="motivo" 
                       [ngClass]="{'is-invalid': campoNoValido('motivo') }"
                       placeholder="Motivo"
                       class="form-control"
                       id="motivoInput">
                <div *ngIf="campoNoValido('motivo')" class="invalid-feedback">
                    {{ mensajesError('motivo') }}
                </div>
            </div>


            <div class="form-group" *ngIf="!isAceptado">
                <label for="observacionInput">Observación</label>
                <textarea formControlName="observacion" 
                          rows="3"
                          [ngClass]="{'is-invalid': campoNoValido('observacion') }"
                          placeholder="Escribe la observación aquí..." 
                          class="form-control"
                          id="observacionInput"></textarea>
                    <div *ngIf="campoNoValido('observacion')" class="invalid-feedback">
                        {{ mensajesError('observacion') }}
                    </div>
            </div>

            <hr>

            <button type="submit" 
                    class="btn btn-success btn-block"
                    [class.btn-danger]="!isAceptado"
                    *ngIf="!solicitud?.aceptado">Guardar</button>

        </form>


    </div>

</div>

