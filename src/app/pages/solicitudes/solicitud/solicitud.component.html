<h5>Solicitud de Servicio Social de <small>{{alumno?.nombre}}</small>
  <small>
          <span *ngIf="solicitud?.pendiente" class="badge badge-pill badge-warning text-white text-capitalize p-1 ml-1">Pendiente</span>
          <span *ngIf="solicitud?.rechazado" class="badge badge-pill badge-danger text-white text-capitalize p-1 ml-1">Rechazado</span>
          <span *ngIf="solicitud?.aceptado" class="badge badge-pill badge-success text-white text-capitalize p-1 ml-1">Aceptado</span>
  </small>
</h5> 

<hr>


<!-- =====================
== BOTÓN REGRESAR
======================= -->
<div class="row text-right">
  <div class="col">
      <button class="btn btn-danger"
          routerLink="/dashboard/solicitudes">
          <i class="fas fa-arrow-left mr-2"></i>Regresar
      </button>
  </div>
</div>
<!-- =====================
== FIN BOTÓN REGRESAR
======================= -->   


<!-- =====================
== INFO VALIDACIÓN
======================= --> 
<div class="row animated fadeIn m-3 text-right" *ngIf="solicitud && !solicitud?.pendiente">
  <div class="col">
    <p class="mb-0"><strong>Usuario que valido:</strong> {{solicitud?.usuario_valido.nombre}}.</p>
    <p class="mb-0"><strong>Fecha de validación:</strong> {{solicitud?.fecha_validacion | date}}.</p>
  </div>
</div>
<!-- =====================
== FIN INFO VALIDACIÓN
======================= --> 



<!-- =====================
== INFORMACIÓN
======================= -->
<ng-container *ngIf="solicitud">
  

  <div class="row animated fadeIn fast m-3">
    <div class="col-12">
  
      <h6>Fecha de Servicio Social</h6>
  
      <p class="m-0"><strong>Inicio: </strong>{{ solicitud.inicio_servicio | date }}</p>
      <p class="m-0"><strong>Termino: </strong>{{ solicitud.termino_servicio | date }}</p>
  
    </div>
  </div>
  
  
  <div class="row animated fadeIn fast m-3">
    <div class="col-sm-12 col-md card m-2 p-0 shadow-sm">
      <div class="card-body">
        <h6 class="card-title">Datos del alumno</h6>

        <div class="row">
          <div class="col-md-6">
            <div class="d-flex justify-content-center">
              <img  [src]="alumno.foto | imagen:'alumnos'" [alt]="alumno.nombre" style="width: 200px; height: 200px;" >
            </div>
          </div>
  
          <div class="col-md-6 mt-3 mt-md-0">
            <p class="m-0"><strong>Nombre</strong></p>
            <p class="m-0 mb-1">{{alumno.nombre}}</p>

            <p class="m-0"><strong>Apellidos</strong></p>
            <p class="m-0 mb-1">{{alumno.apellido_paterno}} {{alumno.apellido_materno}}</p>
            
            <p class="m-0"><strong>Carrera</strong></p>
            <p class="m-0 mb-1">{{alumno.carrera.nombre}}</p>
            
            <p class="m-0"><strong>No. Control</strong></p>
            <p class="m-0 mb-1">{{alumno.numero_control}}</p>
          </div>
        </div>
      
      </div>
    </div>
  
  </div>
  

  <div class="row animated fadeIn fast m-3">
    <div class="col-sm-12 col-md card m-2 p-0 shadow-sm">
      <div class="card-body">
        <h6 class="card-title">Datos de la Dependencia</h6>
        
          <p class="m-0"><strong>Nombre</strong></p>
          <p class="m-0 mb-1">{{solicitud.proyecto.dependencia.nombre}}</p>
  
          <p class="m-0"><strong>Representante legal</strong></p>
          <p class="m-0 mb-1">{{solicitud.proyecto.dependencia.representante_legal}}</p>
  
          <p class="m-0"><strong>Domicilio</strong></p>
          <p class="m-0 mb-1">{{solicitud.proyecto.dependencia.domicilio}}</p>
  
          <p class="m-0"><strong>Correo electrónico</strong></p>
          <p class="m-0 mb-1">{{solicitud.proyecto.dependencia.email}}</p>
      
      </div>
    </div>
  
    <div class="col-sm-12 col-md card m-2 mt-3 mt-md-2 p-0 shadow-sm">
      <div class="card-body">
        <h6 class="card-title">Datos del Responsable del Programa</h6>
        
        <p class="m-0"><strong>Nombre</strong></p>
        <p class="m-0 mb-1">{{solicitud.proyecto.responsable}}</p>
  
        <p class="m-0"><strong>Puesto</strong></p>
        <p class="m-0 mb-1">{{solicitud.proyecto.puesto_responsable}}</p>

        <p class="m-0"><strong>Correo electrónico</strong></p>
        <p class="m-0 mb-1">{{solicitud.proyecto.email_responsable}}</p>

        <p class="m-0"><strong>Teléfono</strong></p>
        <p class="m-0 mb-1">{{solicitud.proyecto.telefono_responsable}}</p>
  
      </div>
    </div>
  </div>
  
  
  <div class="row animated fadeIn fast m-3">
  
    <div class="col card m-2 p-0 shadow-sm">
      <div class="card-body">
        <h6 class="card-title">Descripción del Programa</h6>
  
          
          <p class="m-0"><strong>Objetivo</strong></p>
          <p class="m-0 mb-1">{{solicitud.proyecto.objetivo}}</p>
  
          <p class="m-0"><strong>Actividades</strong></p>
          <p class="m-0 mb-1">{{solicitud.proyecto.actividades}}</p>
  
          <p class="m-0"><strong>Tipo de actividades</strong></p>
          <p class="m-0 mb-1">{{solicitud.proyecto.tipo_actividades}}</p>
  
          <p class="m-0"><strong>Periodo de realización</strong></p>
          <p class="m-0 mb-1">{{solicitud.proyecto.periodo.nombre}}</p>
  
          <p class="m-0"><strong>Modalidad</strong></p>
          <p class="m-0 mb-1">{{solicitud.proyecto.modalidad}}</p>
  
          <p class="m-0"><strong>Tipo de programa</strong></p>
          <p class="m-0 mb-1">{{solicitud.proyecto.tipo}}</p>
  
          <p class="m-0"><strong>Lugar de desempeño</strong></p>
          <p class="m-0 mb-1">{{solicitud.proyecto.lugar_desempeno}}</p>
  
          <p class="m-0"><strong>¿Dentro de las instalaciones?</strong></p>
          <p class="m-0 mb-1" *ngIf="solicitud.proyecto.instalacion else instalacion">SI</p>
          <ng-template #instalacion>
            <p class="m-0 mb-1">NO</p>
          </ng-template>
          
  
      
          <p class="m-0"><strong>Horario</strong></p>
          <p class="m-0 mb-1">{{solicitud.proyecto.horario}}</p>
  
          <p class="m-0"><strong>¿Incluye apoco economico?</strong></p>
          <p class="m-0 mb-1" *ngIf="solicitud.proyecto.apoyo_economico else apoyoEconomico">SI</p>
          <ng-template #apoyoEconomico>
            <p class="m-0 mb-1">NO</p>
          </ng-template>
          
      </div>
    </div>
  
  </div>

</ng-container>
<!-- =====================
== FIN INFORMACIÓN
======================= -->








<div class="row animated fadeIn fast m-3">

    <div class="col-md-6">

        <form [formGroup]="solicitudForm"
              (submit)="guardar()"
              autocomplete="off">

            <!-- <h6>Fecha Servicio Social</h6> 

            <div class="form-row">
              <div class="col-md-6">
                <label>Fecha Inicial</label>
                <input type="date" #fecha
                      class="form-control"
                      formControlName="inicio_servicio"
                      [ngClass]="{'is-invalid': campoNoValido('inicio_servicio') }"
                      (ngModelChange)="cambiarFecha( fecha.value )">
                <div *ngIf="campoNoValido('inicio_servicio')" class="invalid-feedback">
                    {{ mensajesError('inicio_servicio') }}
                </div>
              </div>
              <div class="col-md-6">
                <label>Fecha Termino</label>
                <input type="date" 
                       class="form-control"
                       formControlName="termino_servicio">
              </div>
            </div>  

            <br> -->

            <div class="form-group">
                <label for="exampleFormControlSelect1">Estado</label>
                <select class="form-control" 
                        id="exampleFormControlSelect1" 
                        formControlName="status"
                         (ngModelChange)="cambioValue( $event )">
                  <option [ngValue]="true">Aceptado</option>
                  <option [ngValue]="false">Rechazado</option>
                </select>
            </div>

            <div class="form-group" *ngIf="!isAceptado">
                <label for="motivoInput">Motivo</label>
                <input formControlName="motivo" 
                       [ngClass]="{'is-invalid': campoNoValido('motivo') }"
                       placeholder="Motivo"
                       class="form-control"
                       id="motivoInput">
                <div *ngIf="campoNoValido('motivo')" class="invalid-feedback">
                    {{ mensajesError('motivo') }}
                </div>
            </div>


            <div class="form-group" *ngIf="!isAceptado">
                <label for="observacionInput">Observación</label>
                <textarea formControlName="observacion" 
                          rows="3"
                          [ngClass]="{'is-invalid': campoNoValido('observacion') }"
                          placeholder="Escribe la observación aquí..." 
                          class="form-control"
                          id="observacionInput"></textarea>
                    <div *ngIf="campoNoValido('observacion')" class="invalid-feedback">
                        {{ mensajesError('observacion') }}
                    </div>
            </div>

            <hr>

            <button type="submit" 
                    class="btn btn-success btn-block"
                    [class.btn-danger]="!isAceptado"
                    *ngIf="!solicitud?.aceptado">Guardar</button>

        </form>


    </div>

</div>

